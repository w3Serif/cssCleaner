var  fs 	= require('fs');

var common_lib = {
	'getMediaType': function(cur, str){
		var cur = cur,
			 type = '';
		while (!(str[cur]==' ')){
			type+=str[cur];
			cur++;
		}
		return type;
	}
	,'getObjectType': function(obj){
		return Object.prototype.toString.call(obj).slice(8, -1).toLowerCase();
	}
	,'isWordInArray': function(item, arr){
		if (!item) return false;
		var item = item;
		if (typeof item !== 'string') {console.error('isWordInArray(): item',item,' not a sting'); return false;}
		for (var i=0,len=arr.length; i<len; i++){
			var ex = item.match(/[\[\:]/);
			if (ex){ item = item.slice(0,ex.index); }
			if (item===arr[i]) return true;
		}
		return false;
	}
	,writeFile: function(output_file, string){
		fs.writeFile(output_file, string, function(err) {
			if (err) return console.log(err);
		});
	}
	,readFile: function(read_file){
		return fs.readFileSync(read_file).toString();
	}
};

module.exports = common_lib;